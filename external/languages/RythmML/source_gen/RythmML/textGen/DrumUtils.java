package RythmML.textGen;

/*Generated by MPS */

import javax.sound.midi.Sequencer;
import javax.sound.midi.Track;
import javax.sound.midi.ShortMessage;
import javax.sound.midi.MidiEvent;

public class DrumUtils {

  public static void loadSoundBank(Sequencer sequencer, String soundBankPath) {
  }

  public static int toTick(int bar, int beat, double division, int nbBeatPerBar, int resolution) {
    int pos = bar * nbBeatPerBar * resolution;
    pos += beat * resolution;
    Double d = division;
    pos += d.intValue() * resolution;
    return pos;
  }

  public static void addDrumHit(Track track, DrumElement de, long tick, int velocity) {
    final int NOTEON = 144;
    final int NOTEOFF = 128;

    createEvent(track, NOTEON, 9, de, tick, velocity);
    createEvent(track, NOTEOFF, 9, de, tick + 1, velocity);
  }

  public static void createEvent(Track track, int type, int chan, DrumElement de, long tick, int velocity) {
    ShortMessage message = new ShortMessage();

    try {
      message.setMessage(type, chan, de.noteNumber, velocity);
      MidiEvent event = new MidiEvent(message, tick);
      track.add(event);
    } catch (Exception e) {
      e.printStackTrace();
    }
  }
}
